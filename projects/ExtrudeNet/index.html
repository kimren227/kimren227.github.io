<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>

  Daxuan (ËææËê±)  Ren (‰ªª)


  | ExtrudeNet&#58; Unsupervised Inverse Sketch and Extrude for Shape Parsing

</title>
<meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéæ</text></svg>">

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="canonical" href="/projects/ExtrudeNet/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="/">
       <span class="font-weight-bold">Daxuan (ËææËê±)</span>   Ren (‰ªª)
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                Projects
                
              </a>
          </li>
          
          
          
          
          
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">ExtrudeNet&#58; Unsupervised Inverse Sketch and Extrude for Shape Parsing</h1>
    <p class="post-description"></p>
  </header>

  <article>
    <div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/authors.png" alt="" title="Authors" />
    </div>
</div>

<p><br />
<br /></p>
<center><video class="video-fluid" autoplay="" loop="" muted="">
        <source src="/assets/img/ExtrudeNet/ExtrudeNet.mp4" type="video/mp4" />
</video></center>

<table align="center">
<tbody><tr>		
    </tr>
    <tr>
        <td width="100">
        </td>
        <td width="150">
        <center>
            <a href="https://arxiv.org/abs/2209.15632" class="imageLink"><img src="/assets/img/arxiv.png" width="200" /></a><br />
        </center>
        </td>
        <td width="300">
            <center>
                <a href="https://github.com/kimren227/ExtrudeNet" class="imageLink"><img src="/assets/img/github.png" width="280" /></a><br />
            </center>
        </td>
        <td width="100">
        </td>
    </tr>    
</tbody></table>

<h1>Abstract</h1>
<div class="row justify-content-sm-center">
    <div class="col-sm-7 mt-3 mt-md-0">
        Sketch-and-extrude is a common and intuitive modeling process in computer aided design. This paper studies the problem of learning the shape given in the form of point clouds by inverse sketch-and-extrude. We present ExtrudeNet, an unsupervised end-to-end network for discovering sketch and extrude from point clouds. Behind ExtrudeNet are two new technical components: 1) an effective representation for sketch and extrude, which can model extrusion with freeform sketches and conventional cylinder and box primitives as well; and 2) a numerical method for computing the signed distance field which is used in the network learning. This is the first attempt that uses machine learning to reverse engineer the sketch-and-extrude modeling process of a shape in an unsupervised fashion. ExtrudeNet not only outputs a compact, editable and interpretable representation of the shape that can be seamlessly integrated into modern CAD software, but also aligns with the standard CAD modeling process facilitating various editing applications, which distinguishes our work from existing shape parsing research.
    </div>
    <div class="col-sm-5 mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/teaser_1.jpg" alt="" title="example image" />
    </div>
</div>

<h1>ExtrudeNet Structure</h1>
<div class="row justify-content-sm-left">
    <div>
        <div class="col-sm-16 mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet//extrude_net_pipeline_1.jpg" alt="" title="example image" />
        </div>
        We take inspiration from the process of sketch and extrude, a popular and intuitive approach widely used in the field of computer aided design (CAD) where engineers usually model shapes by first sketching a closed free form sketch (profile) in a 2D sketch plane and then extruding the sketch into 3D. 

        To realize ExtrudeNet, we create three modular components: <b> 1) rBezierSketch</b> , which generates a simple closed curve (i.e.\ no self-intersection); <b> 2) Sketch2SDF </b> , a versatile numerical method for computing Signed-Distance-Field from parametric curves; and <b> 3)   </b> , a differentiable method for extruding 2D Signed-Distance-Field (SDF) into a 3D solid shape. Built upon these components, ExtrudeNet takes a point cloud as input and outputs sketch and extrude parameters which form a compact, interpretable and editable shape representation.
        <br />
       
   </div>
</div>
<p><br /></p>
<h2>rBezierSketch</h2>
<div class="row justify-content-sm-left">
    <div class="col-sm-16 mt-3 mt-md-0">
    rBezierSketch is designed with the following benifits in mind.
    <ul>
        <li>Compatible with industry standards as it is a simple form of NURBS </li>
        <li>It can represent straight lines, circles and free-form curves in a uniform representation</li>
        <li>It represent a star-convex set and will not self intersect </li>
        <li>It can be constraint to generate only C1 continuous sketch </li>
    </ul>

    The basic mathematical model is a closed curve formed by N curve segments defined by special rational cubic Bezier curves $$ C_k(t), t\in [0,1], k=0,1,\cdots,N-1 $$ 
    The equation for each curve segment is:
    $$ 
        C_k(t) = \frac{P^k_0B_0^3(t)+ w^k_1 P^k_1B_1^3(t)+ w^k_2 P^k_2B_2^3(t)+ P^k_3B_3^3(t)}{B_0^3(t)+w^k_1 B_1^3(t)+ w^k_2B_2^3(t)+B_3^3(t)}
    $$
    We use the polar coordinate system to help define the control points P, where: 
    $$ 
        P^k_i = (x^k_i, y^k_i) = (\rho_i^k\cos(\alpha_i^k), \rho^k_i\sin(\alpha^k_i))
    $$


    $$ 
        \alpha^k_1= \alpha^k_0+\theta,\;\; \alpha^k_3 = \alpha^k_0+\frac{2\pi}{N},\;\; \alpha^k_2 = \alpha^k_3-\theta
    $$

    $$ 
        \displaystyle \theta =\frac{2\pi}{4N}+\tan^{-1}\left(\frac{1}{3}\tan\left(\frac{2\pi}{4N}\right)\right)
    $$


    These angles are specially designed to achieve the above stating benifits. (see paper for details)


    </div>
    <div class="col-sm-16 mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/circular_arc_c0_c1_1.jpg" alt="" title="example image" />
    </div>
 </div>
<p><br />
 <br /></p>
<h1>Sketch2SDF</h1>
<div class="row justify-content-sm-left">
    <div>
        We present a numerical method for computing the SDF of simple parametric sketches. The method is general. While it applies to the rational cubic B√©zier curves here, it also works for other parametric curves. This method also yields good gradients which is friendly for deep learning applications.
        The SDF of a sketch is defined by the Distance-Field DF(p), the smallest distance from a given testing point p to the curve, multiplied by a sign SIGN(p) which indicates whether the testing point p is inside or outside of the sketch.
        We first sample a set of sample points from the curve
        $$
        S =\left\{\left(x(\frac{i}{n}),y(\frac{i}{n})\right)\mid i=0,1,\cdots,n\right\}
        $$
        and the distance field can be approximated by
        $$
        DF(p)= \underset{s\in S}{\min} \|s-p\|_2
        $$
        the normal of each sample point is computed
        $$
        N(t) =  \left(\frac{d y(t)}{dt}, -\frac{d x(t)}{dt}\right)
        $$
        the sign can be computed as follow
        $$
        SIGN(p)= \frac{N(CT(p))\cdot (C(CT(p))-p)}{\|N(CT(p))\cdot (C(CT(p))-p)\|_2 + \epsilon}
        $$
        put them together, the final sdf is equal to
        $$
        SDF_s(p) = SIGN(p) \times DF(p). 
        $$
</div>

 <h1>Extrusion</h1> 
 <div class="row justify-content-sm-left">
    <div>
        We first transform the testing point p back to a point p' by reversing the transformations that transform the XY-plane to the target sketch plane. Then we compute the signed distance of p' with respect to the upright extrusion shape whose base lies on the XY-plane
        If the testing point is inside the extruded shape
        $$
            SDF_i(p') = \max(\min(SDF_s((p'_x, p'_y)), h-p'_z, p'_z), 0)
        $$
        otherwise
        $$
        SDF_o(p') = -[
        (\min(h-p'_z,0))^2+(\min(p'_z,0))^2
        \mbox{} +(\min(SDF_s((p'_x, p'_y)),0))^2 ]^{\frac{1}{2}}
        $$
        Finally, the overall SDF is the sum of the two cases.
        $$
        SDF(p') = SDF_i(p') + SDF_o(p')
        $$
        
</div>

<br />
<br />
<h1>Evaluation of rBezierSketch</h1> 
<br />
<br />
<div class="row justify-content-sm-left">
    <h3>Approximability</h3>
    <div>
        To demonstrate the approximation ability and the ease of learning of the proposed rBezierSketch, we conduct a fitting experiment that directly optimize for the radial coordinate that best reconstructs a given raster emoji image.
        <br />
        <br />
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/2d_experiments_1.jpg" alt="" title="evaluation result image" />
        <br />
        <br />
        <br />
        <br />
    </div>
    <h3>Versatility and error analysis</h3>
    <br />
    <br />
    <div class="col-sm-8 mt-3 mt-md-0">
        To show the versatility, we implemented four different kinds of parametric curves, namely polygon, ellipse, Cubic Bezier Sketchs with C1 and C0 continuity. Note that our method is not limited to these curves, and can be easily adapted to new parametric curve types. We also plot the error introduced by apprimation by comparing our results with analytical results.
    </div>
    <div class="col-sm-4 mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/sketch2sdf_analysis_1.jpg" alt="" title="example image" />
    <br />
    <br />
    <br />
    <br />
    </div>
    <h3>Edibility of Sketch and Extrude</h3>
    <br />
    <br />
    <div class="col-sm-8 mt-3 mt-md-0">
       As rBezier sketch is essentially a cubic rational bezier curve and Extrusion is a typical operation for B-Rep representation, our results are well compatiable to popular CAD software. 
    </div>
    <div class="col-sm-4 mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/edit_fusion.png" alt="" title="example figure" />
        <br />
        <br />
    </div>
    <h3>Comparison on Geometric Evaluation Results</h3>
    <div>
        The following figure shows the qualitative comparison with baselines, We can see our method achieves better geometry approximation with fewer primitives.
         <br />
         <br />
        <img class="img-fluid rounded z-depth-1" src="/assets/img/ExtrudeNet/compare_baselines_1.jpg" alt="" title="evaluation result image" />
    <br />
    <br />
    <br />
    <br />
    </div>
</div>

<h3>Acknowledgement</h3>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        The work is partially supported by a joint WASP/NTU project (04INS000440C130), Monash FIT Startup Grant, and SenseTime Gift Fund.
    </div>
</div>




</div></div>

  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2024 Daxuan (ËææËê±)  Ren (‰ªª).
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>. # Photos from <a href="https://unsplash.com" target="_blank">Unsplash</a>.

    
    
  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Medium Zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/assets/js/zoom.js"></script>


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
